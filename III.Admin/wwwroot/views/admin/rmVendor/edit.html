<script>
    function readURL1(input) {
        //alert('fine');


        if (input.files && input.files[0]) {
            var reader = new FileReader();
            debugger
            reader.onload = function (e) {
                console.log('link: ' + e.target.result);
                $('#Profile_picture')
                    .attr('src', e.target.result);
            };

            reader.readAsDataURL(input.files[0]);

        }
    }
</script>


<style>
    .nav-tabs > li.active > a, .nav-tabs > li.active > a:focus, .nav-tabs > li.active > a:hover {
        color: #f9f3f3;
        background-color: #359fc5;
    }

    span.buttonText {
        font-size: 10px;
    }

    .form .form-bordered .form-group > div {
        padding: 5px;
    }

    .form .form-bordered .form-group .control-label {
        padding-top: 5px;
    }

    div#modal-body {
        overflow-y: scroll;
        max-height: 95%;
        height: 650px;
    }
    .table-toolbar {
        padding: 10px;
        background-color: #ecf0f1;
        border-radius: 4px !important;
        border: 2px solid #ccc;
        margin-bottom: -44px !important;
        margin-left: 0px !important;
        margin-right: 0px !important;
        
        background: linear-gradient(to bottom,#f2eee6,#FBFCFC );
        box-shadow: 2px 5px 1pc #0a070947;
    }
   
</style>
<script>
    $(".modal").modal({ backdrop: "static" });

    $(":file").filestyle();

</script>
<div class="modal-header">
    <span class="close icon-remove" style="margin:0 auto" data-dismiss="modal" aria-hidden="true" ng-click="cancel()"></span>
    <h3 class="modal-title" id="modal-title"><i class="glyphicon glyphicon-edit"></i>   Sửa thông tin</h3>
</div>
<div class="modal-body" id="modal-body">
    <div class="portlet-body form">
        <div  >
            <form name="editform" class="form-horizontal form-bordered" method="post" ng-validate="validationOptions">
                <div class="form-body">
                    <div class="row" style="margin-top:10px">
                        <div class=" col-md-6">
                            <div class="form-group">
                                <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-user"></i> Mã công ty <strong style="color:red"></strong></label>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" placeholder="Nhập mã công ty" ng-model="model.Company_Code" name="Company_Code" readonly/>
                                </div>

                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-user"></i> Tên công ty</label>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" placeholder="Nhập tên công ty" ng-model="model.Company_Name" name="Company_Name" />
                                </div>

                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-user"></i> Giám đốc</label>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" placeholder="Nhập tên giám đốc" ng-model="model.Company_Owner" name="FirstName" />
                                </div>

                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-user"></i> Người đại diện</label>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" placeholder="Nhập người đại diện" ng-model="model.Company_Contact" name="LastName" />
                                </div>

                            </div>
                            <div class="form-group">

                                <label class="control-label col-md-4  text-left" for="Status"><i class="sprite-image-16x16"></i> Logo</label>

                                <div class="col-md-8 form-col-control style=" border-left:none"" style="border-left:none">
                                    <div>
                                        <div class="fileupload-new thumbnail mb5" style="width:49% !important;margin:auto;   float:left">
                                            <img onerror="this.src='/images/default/no_image.png'" id="Profile_picture" ng-src='{{model.Company_Image}}' src="{{model.Company_Image}}" style="height:120px; width:120px" />
                                        </div>
                                        <div class="fileupload-new thumbnail mb5" style="width:49% !important;margin:auto; margin-left:1%;  float:left">
                                            <img onerror="this.src='/images/default/no_image.png'" id="Profile_picture1" ng-src='{{model.Company_Image1}}' src="images/DefaultImages/no_image.png" style="height:120px; width:120px" />
                                        </div>
                                    </div>
                                    <div>
                                        <input type="file" id="file" class="filestyle" accept=".png, .jpg, .jpeg, .gif, .bmp" files-input ng-model="model.Company_Image" name="Profile_picture" onchange="readURL1(this);">
                                        <script>
                                            $(":file").filestyle({ buttonName: "btn btn-primary" });
                                        </script>
                                    </div>
                                </div>
                            </div>

                        </div>
                        <div class=" col-md-6">
                            <div class="form-group">
                                <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-phone"></i> Số điện thoại</label>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" ng-model="model.Company_Phone" name="Phone" placeholder="Nhập số điện thoại"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4 text-left"><i class="sprite-emailtemplate-16x16"></i> Website</label>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" ng-model="model.Company_Website" name="Email" placeholder="Nhập website"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4 text-left"><i class="sprite-cards-16x16"></i> Loại hình</label>
                                <div class="col-md-8">
                                    <input type="text" class="form-control" ng-model="model.Company_Type" name="Email" placeholder="Nhập loại hình"/>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4 text-left"><i class="fa fa-pencil"></i> Mô tả</label>
                                <div class="col-md-8">
                                    <textarea rows="6" class="form-control" ng-model="model.Description" name="Email" placeholder="Nhập mô tả"> </textarea>
                                </div>
                            </div>
                            <div class="row pull-right" style="padding-right: 10px; margin-top:40px">
                                <button type="submit" class="btn btn-primary" style="border-radius: 4px !important;" ng-click="submit()"><i class="fa fa-edit"></i>Lưu</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <div style="margin-top:10px" class="table-toolbar">
    <ul class="nav nav-tabs" role="tablist" >
        <li class="active"><a href="#parkingvendor" style=" height: 35px;  border-top-left-radius: 10px; border-top-right-radius: 10px;" data-toggle="tab"> Thông tin Parking</a></li>
        <li><a href="#banking" data-toggle="tab" style=" border-top-left-radius: 10px; border-top-right-radius: 10px; height: 35px;">Thông tin Banking</a></li>
    </ul>
    <div class="tab-content" style="font-size:13px;padding: 5px;">
        <div id="banking" class="tab-pane fade ">
            <form name="addform" class="form-horizontal  form-bordered" method="post" ng-validate="validationOptions">
                <div class="form-body">
                    <div class="" id="them" ng-show="addBanking">
                        <div class="row" style="font-size: 14px; padding-left: 20px;padding-right: 20px;">
                            <div class="col-md-6" style="width: 50%; padding-left:0px;">
                                <div class="form-group" hidden>
                                    <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-modal-window" style="font-size: 18px;color: #417976;"></i>&nbsp Mã ngân hàng  </label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="model.Id" name="customer_code" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-modal-window" style="font-size: 18px;color: #417976;"></i>&nbsp Mã ngân hàng  </label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="model.Ex_Code" name="customer_code" placeholder="Nhập mã ngân hàng"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-object-align-left" style="font-size: 18px;color: #417976;"></i>&nbsp  Tài khoản</label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="model.Ex_Value" name="customer_name" placeholder="Nhập tài khoản"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-modal-window" style="font-size: 18px;color: #417976;"></i>&nbsp Lable </label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="model.Ex_Lable" name="customer_code" placeholder="Nhập Lable"/>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-6" style="width: 50%">
                                <div class="form-group">
                                    <label class="control-label col-md-4 text-right"><i class="glyphicon glyphicon-object-align-left" style="font-size: 18px;color: #417976;"></i>&nbsp Mô tả</label>
                                    <div class="col-md-8">
                                        <textarea rows="5" class="form-control" ng-model="model.Description_Ex" name="Name_car" placeholder="Nhập mô tả"/>
                                    </div>
                                </div>
                                <style>
                                    input {
                                        height: 30px;
                                        padding-left: 10px;
                                        border-radius: 4px;
                                        border: 1px solid rgb(186, 178, 178);
                                        box-shadow: 0px 0px 12px #EFEFEF;
                                    }
                                </style>
                            </div>
                        </div>
                        <div class="row" style="padding-left: 20px;">
                            <div class="form-group" style="text-align:right; margin-right: 16px;">
                                <button type="submit" class="btn btn-primary" style="border-radius: 4px !important;" ng-click="submitBanking()"><i class="fa fa-plus"></i>Thêm</button>
                                <button type="submit" class="btn btn-primary" style="border-radius: 4px !important" ng-click="cancel()"><i class="fa fa-close"></i>Hủy</button>
                            </div>
                        </div>
                    </div>
                    <div id="sua" class="" ng-show="editBanking">
                        <div class="row" style="font-size: 14px; padding-left: 20px;padding-right: 20px;">
                            <div class="col-md-6" style="width: 50%; padding-left:0px;">
                                <div class="form-group" hidden>
                                    <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-modal-window" style="font-size: 18px;color: #417976;"></i>&nbsp Mã ngân hàng  </label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="model.Obj_Id" name="customer_code" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-modal-window" style="font-size: 18px;color: #417976;"></i>&nbsp Mã ngân hàng  </label>
                                    <div class="col-md-8">
                                        <input type="text" disabled class="form-control" ng-model="model.Ex_Code" name="customer_code" placeholder="Nhập mã ngân hàng"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-object-align-left" style="font-size: 18px;color: #417976;"></i>&nbsp  Tài khoản</label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="model.Ex_Value" name="customer_name" placeholder="Nhập tài khoản"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 text-left"><i class="glyphicon glyphicon-modal-window" style="font-size: 18px;color: #417976;"></i>&nbsp Lable </label>
                                    <div class="col-md-8">
                                        <input type="text" class="form-control" ng-model="model.Ex_Lable" name="customer_code" placeholder="Nhập Lable"/>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6" style="width: 50%">
                                <div class="form-group">
                                    <label class="control-label col-md-4 text-right"><i class="glyphicon glyphicon-object-align-left" style="font-size: 18px;color: #417976;"></i>&nbsp Mô tả</label>
                                    <div class="col-md-8">
                                        <textarea rows="5" class="form-control" ng-model="model.Description_Ex" name="Name_car" placeholder="Nhập mô tả"/>
                                    </div>
                                </div>
                                <style>
                                    input {
                                        height: 30px;
                                        padding-left: 10px;
                                        border-radius: 4px;
                                        border: 1px solid rgb(186, 178, 178);
                                        box-shadow: 0px 0px 12px #EFEFEF;
                                    }
                                </style>
                            </div>
                        </div>
                        <div class="row" style="padding-left: 20px;padding-right: 20px;">
                            <div class="form-group" style="text-align:right; margin-right: 16px;">
                                <button type="submit" class="btn btn-primary" style="border-radius: 4px !important;" ng-click="updateBanking()"><i class="fa fa-edit"></i>Lưu</button>
                                <button type="submit" class="btn btn-primary" style="border-radius: 4px !important" ng-click="cancel()"><i class="fa fa-close"></i>Hủy</button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <div class="col-md-3">

            </div>
            <div class="col-md-4">

            </div>
            <div class="col-md-5" style="padding-bottom:10px;" ng-hide="BankingBtn">
                <div class="btn-group pull-right actions">
                    <a class="btn btn-primary" ng-click="AddBankingBtn()"><i class="fa fa-plus"></i> Thêm mới</a>
                </div>
            </div>
            <table class="table dataTable table-hover table-striped"
                   datatable
                   dt-options="dtOptionsBanking"
                   dt-columns="dtColumnsBanking"
                   dt-instance="dtInstanceBanking"
                   id="tblDataBanking"></table>
        </div>
        <div id="parkingvendor" class="tab-pane fade in active">
            <div class="col-md-9" style="padding-bottom:10px;    padding-left: 0;">
                <div class="col-md-7 " style="    padding-left: 0;">
                    <label class="control-label col-md-4 mt5" style="    padding-left: 0;">Danh sách Bãi đỗ</label>
                    <div class="input-group col-md-8">
                        <ui-select ng-model="model.parking" theme="bootstrap">
                            <ui-select-match placeholder="Bãi đỗ...">{{$select.selected.title}}</ui-select-match>
                            <ui-select-choices repeat="x.Id as x in listParking | filter: $select.search">
                                {{x.title}}
                            </ui-select-choices>
                        </ui-select>
                    </div>
                </div>
                <div class="col-md-3 p1">
                    <button class="btn btn-primary" style=" border-radius:5px !important;" ng-click="insertParking(model.parking)"><i class="fa fa-plus"></i> Thêm </button>
                </div>
            </div>
            <div class="col-md-3" style="padding-bottom:10px;">

            </div>
            <table class="table dataTable table-hover table-striped"
                   datatable
                   dt-options="dtOptionsParking"
                   dt-columns="dtColumnsParking"
                   dt-instance="dtInstanceParking"
                   id="tblDataParking"></table>
        </div>
    </div>
    </div>
</div>

