<script>
    function readURL1(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                console.log('link: ' + e.target.result);
                $('#Profile_picture')
                    .attr('src', e.target.result);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }

</script>
<!--<div class="modal-header">
    <span class="close icon-remove" style="margin:0 auto" data-dismiss="modal" aria-hidden="true" ng-click="cancel()"></span>
    <h3 class="modal-title" id="modal-title"><i class="fa fa-edit"></i> Cập nhật thông tin Romooc</h3>
</div>
<div class="modal-body no-space" id="modal-body">

    <div class="portlet-body form" style="margin-top:15px">
        <form name="editform" class="form-horizontal  form-bordered" ng-validate="validationOptions1">
            <div class="form-body">

                <div class="panel-body form-horizontal">
                    <div class="col-md-6">
                        <div class="panel-body" style="padding-top:0px">
                            <div class="form-group" hidden>
                                <label class="control-label   col-md-3">Id</label>
                                <div class="col-md-9">
                                    <input type="text" disabled class="form-control" ng-model="model.Id" name="Id" />
                                </div>
                            </div>
                            <div class="form-group" style="border-bottom:none">
                                <div class="col-md-4 form-col-label" style="border-left:none">
                                    <i class="sprite-customer-16x16"></i>
                                    <label class="control-label  "> Số mooc <strong style="color:red">(*)</strong></label>
                                </div>
                                <div class="col-md-8" style="border-left:none">
                                    <input type="text" class="form-control" ng-model="model.LisencePlate" placeholder="Nhập số mooc" name="Code" ng-pattern="/(^[0-9]{1,2}[A-Za-z]-[0-9][0-9][0-9][0-9]$)|(^[0-9]{1,2}[A-Za-z]-[0-9]{1,3}[.][0-9][0-9]$)/">
                                    <span class="text-danger" ng-show="editform.Code.$error.pattern">Số mooc nhập không đúng!</span>

                                </div>
                            </div>
                            <div class="form-group" style="border-bottom:none">
                                <div class="col-md-4 form-col-label" style="border-left:none">
                                    <i class="sprite-listnumbers-16x16"></i>
                                    <label class="control-label  " for="NumCheck">Barcode</label>
                                </div>
                                <div class="col-md-8 form-col-control" style="border-left:none">
                                    <div class="bs-component">
                                        <input class="form-control" type="text" ng-model="model.Barcode" placeholder="Nhập barcode">

                                    </div>
                                </div>
                            </div>
                            <div class="form-group" style="border-bottom:none">
                                <div class="col-md-4 form-col-label" style="border-left:none">
                                    <i class="sprite-calendar-16x16"></i>
                                    <label class="req control-label  " for="NextTimeCheck">Ngày nhập</label>
                                </div>
                                <div class="col-md-8 form-col-control" style="border-left:none">
                                    <div class="bs-component">
                                        <div class="input-group date pick-date">
                                            <input class="form-control" data-val="true" placeholder="Nhập ngày nhập" name="NextTimeCheck" id="datetimepicker2" type="text" ng-model="model.Date_of_entry">
                                            <span class="input-group-btn">
                                                <button type="button" ng-click="model.Date_of_entry = undefined" class="btn btn-default no-shadow">
                                                    <span class="glyphicon glyphicon-remove"></span>
                                                </button>
                                            </span>
                                        </div>

                                    </div>
                                    <script>

                                        $('#datetimepicker2').datetimepicker({ pickTime: false, format: 'DD/MM/YYYY' });
                                    </script>

                                </div>
                            </div>
                            <div class="form-group" style="border-bottom:none">
                                <div class="col-md-4 form-col-label" style="border-left:none">
                                    <i class="sprite-calendar-16x16"></i>
                                    <label class="req control-label  " for="NextTimeCheck">Ngày sử dụng</label>
                                </div>
                                <div class="col-md-8 form-col-control" style="border-left:none">
                                    <div class="bs-component">
                                        <div class="input-group date pick-date">
                                            <input class="form-control" data-val="true" placeholder="Nhập ngày sử dụng" name="Date_of_use" id="datetimepicker1" type="text" ng-model="model.Date_of_use">
                                            <span class="input-group-btn">
                                                <button type="button" ng-click="model.Date_of_use = undefined" class="btn btn-default no-shadow">
                                                    <span class="glyphicon glyphicon-remove"></span>
                                                </button>
                                            </span>
                                        </div>

                                    </div>
                                    <script>

                                        $('#datetimepicker1').datetimepicker({ pickTime: false, format: 'DD/MM/YYYY' });
                                    </script>

                                </div>
                            </div>

                            <div class="form-group" style="border-bottom:none">
                                <div class="col-md-4 form-col-label" style="border-left:none">
                                    <i class="sprite-gaugestylefullcircular-16x16"></i>
                                    <label class="control-label   ">Loại romooc</label>
                                </div>
                                <div class="col-md-8 form-col-control" style="border-left:none">
                                    <div class="bs-component">
                                        <div class="input-group col-md-12">
                                            <ui-select ng-model="model.Extrafield" class="" style="width: 100%;" ui-select-required>
                                                <ui-select-match placeholder="Loại Romooc...">{{$select.selected.FieldCode}}</ui-select-match>
                                                <ui-select-choices repeat="x.Id as x in liDepartment | filter:$select.search">
                                                    {{x.FieldCode}}
                                                </ui-select-choices>
                                            </ui-select>
                                            <span class="input-group-btn">
                                                <button type="button" ng-click="model.Extrafield = ''" class="btn btn-default no-shadow">
                                                    <span class="glyphicon glyphicon-remove"></span>
                                                </button>
                                            </span>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="control-label col-md-4 text-left" style="padding-left:0"><i class="glyphicon glyphicon-home"></i> Nhóm <strong style="color:red">(*)</strong></label>
                                <div class="col-md-8">
                                    <div class="input-group">
                                        <ui-select ng-model="model.Group" class="" style="width: 100%;">
                                            <ui-select-match placeholder="Chọn nhóm...">{{$select.selected.value}}</ui-select-match>
                                            <ui-select-choices repeat="x.group_id as x in names1 | filter:$select.value">
                                                {{x.value}}
                                            </ui-select-choices>
                                        </ui-select>
                                        <span class="input-group-btn">
                                            <button type="button" ng-click="model.Group = ''" class="btn btn-default no-shadow">
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="panel-body" style="padding-top:0px">

                            <div class="form-group" style="border-bottom:none">
                                <div class="col-md-4 form-col-label" style="border-left:none">
                                    <i class="sprite-customer-16x16"></i>
                                    <label class="control-label  " for="ClienId">Hãng sản xuất</label>
                                </div>
                                <div class="col-md-8 form-col-control" style="border-left:none">
                                    <input class="form-control" type="text" ng-model="model.Generic" name="Generic" placeholder="Nhập hãng sản xuất">
                                </div>
                            </div>
                            <div class="form-group" style="border-bottom:none">
                                <div class="col-md-4 form-col-label" style="border-left:none">
                                    <i class="sprite-employee-16x16"></i>
                                    <label class="control-label  " for="ApproveId">Xuất xứ</label>
                                </div>
                                <div class="col-md-8 form-col-control" style="border-left:none">
                                    <div class="bs-component">
                                        <input class="form-control" type="text" ng-model="model.Origin" name="Origin" placeholder="Nhập xuất xứ">
                                        <span class="field-validation-valid text-danger" data-valmsg-for="BookCheckCode" data-valmsg-replace="true"></span>

                                    </div>
                                </div>
                            </div>
                            <div class="form-group" style="border-bottom:none">
                                <div class="col-md-4 form-col-label" style="border-left:none">
                                    <i class="sprite-image-16x16"></i>
                                    <label class="control-label  " for="Status">Hình ảnh</label>
                                </div>
                                <div class="col-md-8 form-col-control style=" border-left:none"" style="border-left:none">
                                    <div>
                                        <div class="fileupload-new thumbnail mb5" style="width:49% !important;margin:auto;   float:left">
                                            <img onerror="this.src='/images/default/no_image.png'" id="Profile_picture" ng-src='{{model.Image}}' src="{{model.Image}}" style="height:120px; width:120px" />
                                        </div>
                                        <div class="fileupload-new thumbnail mb5" style="width:49% !important;margin:auto; margin-left:1%;  float:left">
                                            <img onerror="this.src='/images/default/no_image.png'" id="Profile_picture1" ng-src='{{model.Image1}}' src="images/DefaultImages/no_image.png" style="height:120px; width:120px" />
                                        </div>
                                    </div>
                                    <div>
                                        <input type="file" id="file" class="filestyle" accept=".png, .jpg, .jpeg, .gif, .bmp" files-input ng-model="model.Image" name="Profile_picture" onchange="readURL1(this);">
                                        <script>
                                            $(":file").filestyle({ buttonName: "btn btn-primary" });
                                        </script>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>
                    <div class="col-md-12">
                        <div class="form-group" style="border-bottom:none">
                            <div class="col-md-2 form-col-label" style="border-left:none">
                                <i class="fa fa-pencil"></i>
                                <label class="control-label  " for="ApproveId">Ghi chú </label>
                            </div>
                            <div class="col-md-10 form-col-control" style="border-left:none">
                                <div class="bs-component">
                                    <textarea type="text" class="form-control" ng-model="model.Note" rows="2" name="Note" placeholder="Nhập ghi chú"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                </div>


        </form>
    </div>
</div>
<div class="modal-footer">
    <div class="form-group">
        <button type="submit" class="btn btn-primary" style="border-radius: 4px !important; margin-top:10px;" ng-click="submit()"><i class="fa fa-edit"></i> Lưu</button>
        <button type="submit" class="btn btn-primary" style="border-radius: 4px !important;  margin-top:10px;margin-right:20px;" ng-click="cancel()"><i class="fa fa-close"></i> Đóng</button>

    </div>
  </div>-->


<div class="modal-header">
    <img class="close icon-remove" title="Close" src="/images/default/close.png" ng-click="cancel()" />
    <i class="fa fa-edit icon-edit"></i>
    <div class="modal-title custom-title " id="modal-title">Sửa đầu kéo</div>
</div>
<div class="modal-body pb-0" id="modal-body">
    <div class="portlet-body form">
        <form name="addform" class="form-horizontal userFormAreaHeader" method="post" ng-validate="validationOptions">
            <div class="form-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group" hidden>
                            <label class="control-label col-md-3">Id</label>
                            <div class="col-md-9">
                                <input type="text" disabled class="form-control" ng-model="model.Id" name="Id" />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-4">
                                <i class="fas fa-sort-numeric-up"></i>
                                <label class="control-label require"> Số mooc</label>
                            </div>
                            <div class="col-md-8 form-col-control">
                                <div class="bs-component">
                                    <input type="text" class="form-control" ng-model="model.Code" placeholder="Nhập số mooc" name="Code" required ng-pattern="/(^[0-9]{1,2}[A-Za-z]-[0-9][0-9][0-9][0-9]$)|(^[0-9]{1,2}[A-Za-z]-[0-9]{1,3}[.][0-9][0-9]$)/" />
                                    <span class="text-danger" ng-show="addform.Code.$error.pattern">Số mooc nhập không đúng!</span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-4">
                                <i class="fas fa-barcode"></i>
                                <label class="control-label" for="NumCheck">Barcode</label>
                            </div>
                            <div class="col-md-8">
                                <div class="bs-component">
                                    <input class="form-control" type="text" ng-model="model.Barcode" placeholder="Nhập barcode">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-4">
                                <i class="far fa-calendar-alt"></i>
                                <label class="req control-label" for="NextTimeCheck">Ngày nhập</label>
                            </div>
                            <div class="col-md-8">
                                <div class="bs-component">
                                    <div class="input-group date pick-date">
                                        <input class="form-control" data-val="true" placeholder="Nhập ngày nhập" name="NextTimeCheck" type="text" ng-model="model.Date_of_entry" id="datetimepicker2">
                                        <span class="input-group-btn">
                                            <button type="button" ng-click="model.Date_of_entry = undefined" class="btn btn-default no-shadow">
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                                <script>
                                    $('#datetimepicker2').datetimepicker({ pickTime: false, format: 'DD/MM/YYYY' });
                                </script>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-4 form-col-label">
                                <i class="far fa-calendar-alt"></i>
                                <label class="req control-label" for="NextTimeCheck">Ngày sử dụng</label>
                            </div>
                            <div class="col-md-8 form-col-control">
                                <div class="bs-component">
                                    <div class="input-group date pick-date">
                                        <input class="form-control" data-val="true" placeholder="Nhập ngày sử dụng" id="datetimepicker1" name="Date_of_use" type="text" ng-model="model.Date_of_use">
                                        <span class="input-group-btn">
                                            <button type="button" ng-click="model.Date_of_use = undefined" class="btn btn-default no-shadow">
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                                <script>
                                    $('#datetimepicker1').datetimepicker({ pickTime: false, format: 'DD/MM/YYYY' });
                                </script>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="col-md-4">
                                <i class="fas fa-info-circle"></i>
                                <label class="control-label">Loại romooc</label>
                            </div>
                            <div class="col-md-8">
                                <div class="bs-component">
                                    <div class="input-group col-md-12">
                                        <ui-select ng-model="model.Extrafield" class="" style="width: 100%;" ui-select-required>
                                            <ui-select-match placeholder="Loại Romooc...">{{$select.selected.FieldCode}}</ui-select-match>
                                            <ui-select-choices repeat="x.Id as x in liDepartment | filter:$select.search">
                                                {{x.FieldCode}}
                                            </ui-select-choices>
                                        </ui-select>
                                        <span class="input-group-btn">
                                            <button type="button" ng-click="model.Extrafield = ''" class="btn btn-default no-shadow">
                                                <span class="glyphicon glyphicon-remove"></span>
                                            </button>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-4 text-left require"><i class="fas fa-info-circle"></i> Nhóm</label>
                            <div class="col-md-8">
                                <div class="input-group">
                                    <ui-select ng-model="model.Group" class="" style="width: 100%;">
                                        <ui-select-match placeholder="Chọn nhóm...">{{$select.selected.value}}</ui-select-match>
                                        <ui-select-choices repeat="x.group_id as x in names1 | filter:$select.value">
                                            {{x.value}}
                                        </ui-select-choices>
                                    </ui-select>
                                    <span class="input-group-btn">
                                        <button type="button" ng-click="model.Group = ''" class="btn btn-default no-shadow">
                                            <span class="glyphicon glyphicon-remove"></span>
                                        </button>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <div class="col-md-4">
                                <i class="fa fa-subway"></i>
                                <label class="control-label" for="ClienId">Hãng sản xuất </label>
                            </div>
                            <div class="col-md-8">
                                <input class="form-control" type="text" ng-model="model.Generic" name="Generic" placeholder="Nhập hãng sản xuất">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-4">
                                <i class="fas fa-map-marker"></i>
                                <label class="control-label" for="ApproveId">Xuất xứ </label>
                            </div>
                            <div class="col-md-8 ">
                                <div class="bs-component">
                                    <input class="form-control" type="text" ng-model="model.Origin" name="Origin" placeholder="Nhập xuất xứ">
                                    <span class="field-validation-valid text-danger" data-valmsg-for="BookCheckCode" data-valmsg-replace="true"></span>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-4">
                                <i class="far fa-image"></i>
                                <label class="control-label " for="Status">Hình ảnh</label>
                            </div>
                            <div class="col-md-8">
                                <div class="fileupload-new thumbnail mb5" style="width:50% !important;margin:auto; float:left">
                                    <img id="previewImage" onerror="this.src='../../../images/romooc/no_image.png'" ng-src='{{model.Image}}' class="image-default" style="height:105px; width:145px" />
                                </div>
                                <div class="fileupload-new thumbnail mb5" style="width:49% !important;margin:auto; margin-left:1%;  float:left">
                                    <img id="previewImage1" onerror="this.src='../../../images/romooc/no_image.png'" ng-src='{{model.Image}}' class="image-default" style="height:105px; width:145px" />
                                </div>
                                <div class="input-group input-file">
                                    <i class="fa fa-upload"></i>
                                    <input class="form-control border-top-left-4radius border-bottom-left-4radius inputFile pl30" style="height:33px" placeholder='' readonly></>
                                    <span class="input-group-btn">
                                        <span class="btn btn-default btn-choose" onclick="$(this).parent().find('input[type=file]').click();">Chọn ảnh</span>
                                        <input class="form-control" id="file" files-input ng-model="model.Image" name="Image" onchange="readURL(this);" style="display: none;" type="file">
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="form-group">
                            <div class="col-md-2">
                                <i class="fa fa-pencil"></i>
                                <label class="control-label " for="ApproveId">Ghi chú</label>
                            </div>
                            <div class="col-md-10">
                                <textarea type="text" class="form-control" ng-model="model.Note" rows="4" name="Note" placeholder="Nhập ghi chú"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="modal-footer">
    <a data-dismiss="modal" class="btn btn-red" href="javascript:;" ng-click="cancel()">
        Hủy bỏ
    </a>
    <button ng-click="submit()" class="btn btn-green mr5" href="javascript:;">
        Lưu lại
    </button>
</div>
