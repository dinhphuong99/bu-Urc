<script>
    function readURL(input) {
      //  $(this).parent().parent().parent().find('.form-control').html($(this).val());

        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                console.log('link: ' + e.target.result);
                $('#picture')
                    .attr('src', e.target.result);
            };

            reader.readAsDataURL(input.files[0]);
        }
    }
</script>
<style>


    span.buttonText {
        font-size: 10px;
    }

    .form .form-bordered .form-group > div {
        padding: 5px;
    }

    .form .form-bordered .form-group .control-label {
        padding-top: 5px;
    }

    div#modal-body {
        overflow-y: scroll;
        max-height: 95%;
        height: 450px;
    }
</style>
<script>
    $(".modal").modal({ backdrop: "static" });
</script>
<div class="modal-header" style="height:50px; margin:auto"> 
    <span class="close icon-remove" style="margin:0 auto" data-dismiss="modal" aria-hidden="true" ng-click="cancel()"></span>
    <h3 class="modal-title" id="modal-title"><i class="glyphicon glyphicon-plus" style="font-size: 15px;color: #e9edf0;padding-top:5px"></i> Thêm mới nhân viên</h3>
</div>
<div class="modal-body no-space" id="modal-body">

    <div class="portlet-body form"> 
        <form name="addform" class="form-horizontal  form-bordered"   method="post" ng-validate="validationOptions">
            <div class="form-body">
                <div class=" col-md-6">
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="glyphicon glyphicon-th-large"></i> Họ và tên khai sinh</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" ng-model="model.fullname" name="fullname"  />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"> <i class="fa fa-pie-chart"></i> Giới tính</label>
                        <div class="col-md-8 form-col-control">
                            <div class="bs-component">
                                <div class="input-group" style="width:100%" >
                                    <ui-select ng-model="model.gender" class="" ui-select-required>
                                        <ui-select-match placeholder="Giới tính...">{{$select.selected.value}}</ui-select-match>
                                        <ui-select-choices repeat="x.gender as x in gioitinh | filter:$select.value">
                                            {{x.value}}
                                        </ui-select-choices>
                                    </ui-select>

                                </div>

                            </div>
                        </div>
                    </div>


                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="glyphicon glyphicon-time"></i> Ngày sinh</label>
                        <div class="bs-component col-md-8">
                            <div class="input-group date pick-date">
                                <input type="text" class="form-control" ng-model="model.birthday" name="birthday"  id="datetimepicker1" style="border-top-right-radius: 0px !important;border-bottom-right-radius:0px !important" />
                                <span class="input-group-btn">
                                    <button type="button" ng-click="model.birthday = undefined" class="btn btn-default no-shadow">
                                        <span class="glyphicon glyphicon-remove"></span>
                                    </button>
                                </span>
                            </div>

                        </div>
                        <script>
                            $('#datetimepicker1').datetimepicker({ pickTime: false, format: 'DD/MM/YYYY', setEndDate: new Date() });

                        </script>
                    </div>




                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="glyphicon glyphicon-screenshot"></i> CMT/Hộ chiếu</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" ng-model="model.identitycard" name="identitycard"  />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="glyphicon glyphicon-time"></i> Ngày cấp</label>
                        <div class="bs-component col-md-8">
                            <div class="input-group date pick-date">
                                <input type="text" class="form-control" id="datetimepicker3" ng-model="model.identitycarddate" name="identitycarddate"  style="border-top-right-radius: 0px !important;border-bottom-right-radius:0px !important" />
                                <span class="input-group-btn">
                                    <button type="button" ng-click="model.identitycarddate = undefined" class="btn btn-default no-shadow">
                                        <span class="glyphicon glyphicon-remove"></span>
                                    </button>
                                </span>
                            </div>

                        </div>
                        <script>
                            $('#datetimepicker3').datetimepicker({ pickTime: false, format: 'DD/MM/YYYY' });
                        </script>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="glyphicon glyphicon-screenshot"></i> Nơi cấp</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" ng-model="model.identitycardplace" name="identitycardplace" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"> <i class="glyphicon glyphicon-leaf"></i> Phòng ban</label>
                        <div class="col-md-8 form-col-control">
                            <div class="bs-component">
                                <div class="input-group" style="width: 100%;">
                                    <ui-select ng-model="model.unit" class="" ui-select-required >
                                        <ui-select-match placeholder="Phòng ban...">{{$select.selected.DepartName}}</ui-select-match>
                                        <ui-select-choices repeat="x.ID as x in treeDataunit | filter:$select.DepartName">
                                            {{x.DepartName}}
                                        </ui-select-choices>
                                    </ui-select>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="	fa fa-pie-chart"></i> Loại hình nhân viên</label>
                        <div class="col-md-8">
                            <div class="input-group">
                                <ui-select ng-model="model.employeekind" class="" style="width: 100%;">
                                    <ui-select-match placeholder="Loại hình nhân viên...">{{$select.selected.value}}</ui-select-match>
                                    <ui-select-choices repeat="x.employeekind as x in loaihinhnhanvien | filter:$select.value">
                                        {{x.value}}
                                    </ui-select-choices>
                                </ui-select>
                                <span class="input-group-btn">
                                    <button type="button" ng-click="model.employeekind = 0" class="btn btn-default no-shadow">
                                        <span class="glyphicon glyphicon-remove"></span>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="	fa fa-pie-chart"></i> Nhóm</label>
                        <div class="col-md-8">
                            <div class="input-group">
                                <ui-select ng-model="model.employeegroup" class="" style="width: 100%;">
                                    <ui-select-match placeholder="Nhóm...">{{$select.selected.value}}</ui-select-match>
                                    <ui-select-choices repeat="x.employeegroup as x in nhom | filter:$select.value">
                                        {{x.value}}
                                    </ui-select-choices>
                                </ui-select>
                                <span class="input-group-btn">
                                    <button type="button" ng-click="model.employeegroup = 0" class="btn btn-default no-shadow">
                                        <span class="glyphicon glyphicon-remove"></span>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>

                </div>

                <div class=" col-md-6">
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="glyphicon glyphicon-screenshot"></i> Họ tên thường dùng</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" ng-model="model.nickname" name="nickname"  />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="glyphicon glyphicon-screenshot"></i> Nguyên quán</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" ng-model="model.birthofplace" name="birthofplace"  />
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="glyphicon glyphicon-screenshot"></i> Hộ khẩu thường trú</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" ng-model="model.permanentresidence" name="permanentresidence" />
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="glyphicon glyphicon-screenshot"></i> Quốc tịch</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" ng-model="model.nationlaty" name="nationlaty"  />
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="	fa fa-pie-chart"></i> Kiểu nhân viên</label>
                        <div class="col-md-8">
                            <div class="input-group">
                                <ui-select ng-model="model.employeetype" class="" style="width: 100%;">
                                    <ui-select-match placeholder="Kiểu nhân viên...">{{$select.selected.value}}</ui-select-match>
                                    <ui-select-choices repeat="x.employeetype as x in kieunhanvien | filter:$select.value">
                                        {{x.value}}
                                    </ui-select-choices>
                                </ui-select>
                                <span class="input-group-btn">
                                    <button type="button" ng-click="model.employeetype = 0" class="btn btn-default no-shadow">
                                        <span class="glyphicon glyphicon-remove"></span>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="control-label col-md-4 text-left" style="padding-left:0;padding-right:0"><i class="glyphicon glyphicon-screenshot"></i> Chức vụ</label>
                        <div class="col-md-8">
                            <input type="text" class="form-control" ng-model="model.position" name="position"  />
                        </div>
                    </div>
                 
                    <div class="form-group">
                       
                            
                            <label class="col-md-4 control-label text-left" for="Status" style="padding-left:0;padding-right:0"><i class="sprite-image-16x16"></i> Ảnh</label>
                       
                            <div class="col-md-8 form-col-control ">
                                <div>
                                    <div class="fileupload-new thumbnail mb5" style="width:49% !important;margin:auto; float:left">
                                        <img id="picture" ng-src='{{model.picture}}' src="images/default/no_image.png" style="height:120px; width:145px" />
                                    </div>
                                    <div class="fileupload-new thumbnail mb5" style="width:49% !important;margin:auto; margin-left:1%;  float:left">
                                        <img id="picture1" ng-src='{{model.picture}}' src="images/default/no_image.png" style="height:120px; width:145px" />
                                    </div>
                                </div>
                                <input type="file" id="file" class="filestyle" accept=".png, .jpg, .jpeg, .gif, .bmp" files-input ng-model="model.picture" name="picture" onchange="readURL(this);">
                                <script>
                                    $(":file").filestyle({ buttonName: "btn btn-primary" });
                                </script>
                            </div>
                    </div>
                </div>
                </div>
</form>
    </div>
</div>
<div class="modal-footer">
    <div class="form-group">
            <button type="submit" class="btn btn-primary" style="border-radius: 4px !important; margin-top:15px;" ng-click="submit()"><i class="fa fa-plus"></i> Lưu</button>
            <button type="submit" class="btn btn-primary" style="border-radius: 4px !important;  margin-top:15px;margin-right:20px;" ng-click="cancel()"><i class="fa fa-trash-o"></i> Đóng</button>
    </div>
    </div>
